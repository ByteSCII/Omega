<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bloque de Tierra - Minecraft</title>
    <style>
        body { 
            margin: 0; 
            background: #1a1a2e;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }
        #container {
            width: 500px;
            height: 500px;
            border: 4px solid #8B4513;
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(139, 69, 19, 0.6);
        }
        #info {
            position: absolute;
            top: 30px;
            color: white;
            text-align: center;
            width: 100%;
            font-size: 24px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        #controls {
            position: absolute;
            bottom: 30px;
            color: white;
            text-align: center;
            width: 100%;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div id="info">üåø Bloque de Tierra - Minecraft</div>
    <div id="container"></div>
    <div id="controls">üñ±Ô∏è Pasa el mouse para pausar</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <script>
        // 1. Crear escena, c√°mara y renderizador
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(60, 500 / 500, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ 
            antialias: true,
            alpha: true 
        });
        
        renderer.setSize(500, 500);
        renderer.setClearColor(0x1a1a2e);
        document.getElementById('container').appendChild(renderer.domElement);

        // 2. Cargador de texturas
        const textureLoader = new THREE.TextureLoader();
        
        // Texturas locales - bloque de tierra
        const tierraTexture = textureLoader.load('tierra.jpg');
        const gramaTexture = textureLoader.load('grama.jpg');

        // Hacer que las texturas se repitan para mejor calidad
        [tierraTexture, gramaTexture].forEach(texture => {
            texture.wrapS = THREE.RepeatWrapping;
            texture.wrapT = THREE.RepeatWrapping;
            texture.repeat.set(1, 1);
        });

        const materials = [
            new THREE.MeshLambertMaterial({ map: tierraTexture }), // Derecha
            new THREE.MeshLambertMaterial({ map: tierraTexture }), // Izquierda
            new THREE.MeshLambertMaterial({ map: gramaTexture }),  // Arriba (hierba)
            new THREE.MeshLambertMaterial({ map: tierraTexture }), // Abajo
            new THREE.MeshLambertMaterial({ map: tierraTexture }), // Frente
            new THREE.MeshLambertMaterial({ map: tierraTexture })  // Atr√°s
        ];

        // 3. Crear cubo con texturas
        const geometry = new THREE.BoxGeometry(2.2, 2.2, 2.2); // Un poco m√°s grande
        const cube = new THREE.Mesh(geometry, materials);
        
        // Suavizar un poco las esquinas (sin hacerlo muy redondo)
        geometry.computeVertexNormals();
        
        scene.add(cube);

        // 4. Posicionar c√°mara con mejor √°ngulo
        camera.position.set(4, 3, 5);
        camera.lookAt(0, 0, 0);

        // 5. Sistema de luces mejorado
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
        scene.add(ambientLight);

        const directionalLight1 = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight1.position.set(5, 5, 3);
        scene.add(directionalLight1);

        const directionalLight2 = new THREE.DirectionalLight(0xffaa33, 0.3);
        directionalLight2.position.set(-3, -2, -4);
        scene.add(directionalLight2);

        // 6. Animaci√≥n mejorada - solo rotaci√≥n Y (lados)
        let rotationSpeed = 0.01;
        let autoRotate = true;

        function animate() {
            requestAnimationFrame(animate);
            
            if (autoRotate) {
                // Solo rotaci√≥n horizontal (eje Y) - m√°s natural para Minecraft
                cube.rotation.y += rotationSpeed;
                
                // Peque√±o movimiento flotante suave
                cube.position.y = Math.sin(Date.now() * 0.001) * 0.1;
            }
            
            renderer.render(scene, camera);
        }

        // 7. Controles interactivos
        const container = document.getElementById('container');

        container.addEventListener('mouseenter', () => {
            autoRotate = false;
            container.style.cursor = 'grab';
        });

        container.addEventListener('mouseleave', () => {
            autoRotate = true;
            container.style.cursor = 'default';
        });

        // Rotaci√≥n manual al arrastrar
        let isDragging = false;
        let previousMousePosition = { x: 0, y: 0 };

        container.addEventListener('mousedown', (e) => {
            isDragging = true;
            container.style.cursor = 'grabbing';
            previousMousePosition = { x: e.clientX, y: e.clientY };
        });

        container.addEventListener('mousemove', (e) => {
            if (isDragging) {
                const deltaX = e.clientX - previousMousePosition.x;
                cube.rotation.y += deltaX * 0.01;
                previousMousePosition = { x: e.clientX, y: e.clientY };
            }
        });

        container.addEventListener('mouseup', () => {
            isDragging = false;
            container.style.cursor = 'grab';
        });

        // Iniciar animaci√≥n
        animate();

        // Efecto de carga suave
        setTimeout(() => {
            document.body.style.opacity = 1;
        }, 100);
    </script>
</body>
</html>
